<template>
  <ux-dialog class="panel panel-default">
    <ux-dialog-header class="panel-heading">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" click.delegate="controller.cancel()"><span aria-hidden="true">&times;</span></button>
        <h4 class="panel-title" i18n="tileset.edit-tile">Edit A Tile</h4>
    </ux-dialog-header>

    <ux-dialog-body class="panel-body">
        <div class="form-group">
            <label class="control-label">ID</label>
            <input type="text" class="form-control input-md" placeholder="" disabled value.one-way="tile.id" />
            <label class="control-label" i18n="tileset.cost">Cost</label>
            <input type="number" class="form-control" placeholder="" value.bind="tile.cost">
            <label class="control-label" i18n="tileset.animation-speed">Animation Speed</label>
            <input type="number" min="0" max="1" step="0.01" class="form-control input-md" placeholder="" change.delegate="onSpeedChanged()" value.bind="tile.speed" />
            <label class="control-label"><span i18n="tileset.offsets">Offsets</span> (<span i18n="tileset.total-frames">Total Frames</span>: ${tile.frames})</label>
            <input type="text" class="form-control input-md" placeholder="" disabled value.one-way="tile.offsets" />
        </div>
        <div class="row" style="text-align: center; vertical-align: middle; line-height: 128px;">
            <div style="width: 100%; height: 128px; overflow: auto;">
            <canvas id="tile-canvas"></canvas>
            </div>
        </div>
    </ux-dialog-body>
    
    <ux-dialog-footer class="panel-footer">
        <button class="btn btn-success" click.trigger="controller.ok(currentTile)" i18n="app.ok">OK</button>
        <button class="btn btn-danger" click.trigger="controller.cancel()" i18n="app.cancel">Cancel</button>
    </ux-dialog-footer>
  </ux-dialog>
</template>
